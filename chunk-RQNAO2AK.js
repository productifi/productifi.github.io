import{b as Y,c as Z,d as q}from"./chunk-HMM5WEMA.js";import{b as oe,c as re}from"./chunk-JDCC6IOV.js";import{e as F,f as V}from"./chunk-73HNPCUD.js";import"./chunk-QBLI2EOF.js";import{a as L,b as G,c as H,f as R,h as K}from"./chunk-JX33CUBA.js";import{a as te,f as ne,g as ie}from"./chunk-I7QKGUOV.js";import"./chunk-KOH3MBIX.js";import{c as Q,g as A,j as X,s as U}from"./chunk-KU7RIE3I.js";import"./chunk-AESYL7IM.js";import{a as N,d as z,e as B}from"./chunk-4JKAHWEK.js";import"./chunk-CERUL3HZ.js";import"./chunk-5BDAPURH.js";import{ea as $,fa as ee}from"./chunk-TBDOALTL.js";import{$a as r,Fb as t,Gb as e,Lb as J,Ob as s,Qb as u,Sc as D,Xc as j,Zb as n,_b as m,_c as W,cc as E,dc as P,ec as v,gc as O,lc as T,ma as I,mc as h,tb as M,ua as _,va as g,vb as b,xb as S}from"./chunk-J5RJCK57.js";function de(a,l){if(a&1&&(t(0,"div",13),n(1),e()),a&2){let o=u();r(),m(o.error)}}function ce(a,l){if(a&1&&(t(0,"mat-card",22)(1,"mat-card-content")(2,"div",23)(3,"mat-icon"),n(4),e(),t(5,"div")(6,"strong"),n(7),e(),t(8,"p"),n(9),e()()()()()),a&2){let o=u(2);r(2),S("expired",o.decodedToken.isExpired),r(2),m(o.decodedToken.isExpired?"error":"check_circle"),r(3),m(o.decodedToken.isExpired?"EXPIRED":"VALID"),r(2),m(o.decodedToken.expiresIn)}}function le(a,l){if(a&1){let o=J();t(0,"mat-card",14)(1,"mat-card-header")(2,"mat-card-title"),n(3,"Decoded Token"),e()(),t(4,"mat-card-content")(5,"mat-tab-group")(6,"mat-tab",15)(7,"div",16)(8,"pre"),n(9),T(10,"json"),e(),t(11,"button",17),s("click",function(){_(o);let i=u();return g(i.copyHeaderJson())}),t(12,"mat-icon"),n(13,"content_copy"),e(),n(14," Copy "),e()()(),t(15,"mat-tab",18)(16,"div",16)(17,"pre"),n(18),T(19,"json"),e(),t(20,"button",17),s("click",function(){_(o);let i=u();return g(i.copyPayloadJson())}),t(21,"mat-icon"),n(22,"content_copy"),e(),n(23," Copy "),e()()(),t(24,"mat-tab",19)(25,"div",16)(26,"pre",20),n(27),e(),t(28,"button",17),s("click",function(){_(o);let i=u();return g(i.copyToClipboard(i.decodedToken.signature))}),t(29,"mat-icon"),n(30,"content_copy"),e(),n(31," Copy "),e()()()(),M(32,ce,10,5,"mat-card",21),e()()}if(a&2){let o=u();r(9),m(h(10,4,o.decodedToken.header)),r(9),m(h(19,6,o.decodedToken.payload)),r(9),m(o.decodedToken.signature),r(5),b("ngIf",o.decodedToken.expiresIn)}}var Pe=(()=>{let l=class l{constructor(){this.jwtInput="",this.decodedToken=null,this.error="",this.sampleJwt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"}ngOnInit(){this.jwtInput=this.sampleJwt}decodePart(c){try{let i=4-c.length%4,d=i!==4?c+"=".repeat(i):c,p=atob(d);return JSON.parse(p)}catch{return null}}decodeJwt(){this.error="",this.decodedToken=null;let i=this.jwtInput.trim().split(".");if(i.length!==3){this.error="Invalid JWT format. JWT must have 3 parts separated by dots.";return}let[d,p,f]=i,k=this.decodePart(d),x=this.decodePart(p);if(!k||!x){this.error="Failed to decode JWT parts. Invalid base64 encoding.";return}let C=!1,w;if(x.exp){let y=x.exp*1e3;C=Date.now()>y,C?w=`Expired on ${new Date(y).toLocaleString()}`:w=`Expires on ${new Date(y).toLocaleString()}`}this.decodedToken={header:k,payload:x,signature:f,isExpired:C,expiresIn:w}}copyToClipboard(c){navigator.clipboard.writeText(c)}copyHeaderJson(){this.decodedToken?.header&&this.copyToClipboard(JSON.stringify(this.decodedToken.header,null,2))}copyPayloadJson(){this.decodedToken?.payload&&this.copyToClipboard(JSON.stringify(this.decodedToken.payload,null,2))}loadSample(){this.jwtInput=this.sampleJwt,this.decodeJwt()}clear(){this.jwtInput="",this.decodedToken=null,this.error=""}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=I({type:l,selectors:[["app-jwt-decoder"]],standalone:!0,features:[O],decls:32,vars:3,consts:[[1,"container"],["color","primary"],["mat-icon-button","","disabled",""],[1,"content"],[1,"input-card"],["appearance","outline",1,"full-width"],["matInput","","rows","4",3,"ngModelChange","ngModel"],[1,"button-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","info",3,"click"],["mat-raised-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["class","result-card",4,"ngIf"],[1,"error"],[1,"result-card"],["label","Header"],[1,"tab-content"],["mat-stroked-button","",3,"click"],["label","Payload"],["label","Signature"],[1,"signature"],["class","expiry-card",4,"ngIf"],[1,"expiry-card"],[1,"expiry-status"]],template:function(i,d){i&1&&(t(0,"div",0)(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),n(4,"vpn_key"),e()(),t(5,"span"),n(6,"JWT Decoder"),e()(),t(7,"div",3)(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),n(11,"Paste JWT Token"),e()(),t(12,"mat-card-content")(13,"mat-form-field",5)(14,"mat-label"),n(15,"JWT Token"),e(),t(16,"textarea",6),v("ngModelChange",function(f){return P(d.jwtInput,f)||(d.jwtInput=f),f}),e()(),t(17,"div",7)(18,"button",8),s("click",function(){return d.decodeJwt()}),t(19,"mat-icon"),n(20,"lock_open"),e(),n(21," Decode JWT "),e(),t(22,"button",9),s("click",function(){return d.loadSample()}),t(23,"mat-icon"),n(24,"assignment"),e(),n(25," Load Sample "),e(),t(26,"button",10),s("click",function(){return d.clear()}),t(27,"mat-icon"),n(28,"delete"),e(),n(29," Clear "),e()(),M(30,de,2,1,"div",11),e()(),M(31,le,33,8,"mat-card",12),e()()),i&2&&(r(16),E("ngModel",d.jwtInput),r(14),b("ngIf",d.error),r(),b("ngIf",d.decodedToken))},dependencies:[W,D,j,U,Q,A,X,ee,$,V,F,B,N,z,ie,ne,te,re,oe,K,L,H,R,G,q,Y,Z],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}mat-toolbar[_ngcontent-%COMP%]{margin-bottom:1rem}.content[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow-y:auto}.input-card[_ngcontent-%COMP%], .result-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;max-width:800px}.full-width[_ngcontent-%COMP%]{width:100%}.button-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem;flex-wrap:wrap}.error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;padding:.5rem;background-color:#ffebee;border-radius:4px}.tab-content[_ngcontent-%COMP%]{padding:1rem;color:#333}pre[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#333;padding:1rem;border-radius:4px;overflow-x:auto;margin:1rem 0;border:1px solid #ddd;font-family:Courier New,monospace;font-size:.9rem}.signature[_ngcontent-%COMP%]{word-break:break-all;font-size:.85rem}.expiry-card[_ngcontent-%COMP%]{margin-top:1rem;background-color:#f5f5f5}.expiry-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-radius:4px;color:#4caf50}.expiry-status.expired[_ngcontent-%COMP%]{color:#f44336;background-color:#ffebee}.expiry-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.expiry-status[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.1rem}.expiry-status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}"]});let a=l;return a})();export{Pe as JwtDecoderComponent};
