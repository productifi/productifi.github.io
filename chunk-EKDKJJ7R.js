import{a as Ce,b as _e}from"./chunk-AP364FP6.js";import{b as ge,c as he}from"./chunk-JDCC6IOV.js";import{e as Q,f as Z}from"./chunk-73HNPCUD.js";import"./chunk-ZHDJFP5C.js";import"./chunk-QBLI2EOF.js";import{a as te,b as ne,c as ie,f as oe,h as re}from"./chunk-JX33CUBA.js";import{a as fe,f as pe,g as ue}from"./chunk-I7QKGUOV.js";import"./chunk-KOH3MBIX.js";import{c as ae,g as le,j as de,s as se}from"./chunk-KU7RIE3I.js";import"./chunk-AESYL7IM.js";import{a as $,e as ee}from"./chunk-4JKAHWEK.js";import"./chunk-CERUL3HZ.js";import"./chunk-5BDAPURH.js";import{ea as ce,fa as me}from"./chunk-TBDOALTL.js";import{$a as g,Fb as l,Gb as r,Lb as I,Ob as O,Qb as y,Qc as J,Rc as X,Sc as Y,Zb as a,_b as L,_c as K,ab as U,cc as W,dc as N,ec as A,gc as G,kc as V,ma as q,tb as M,ua as k,va as D,vb as C}from"./chunk-J5RJCK57.js";var E=class{diff(t,n,e={}){let i;typeof e=="function"?(i=e,e={}):"callback"in e&&(i=e.callback);let o=this.castInput(t,e),f=this.castInput(n,e),s=this.removeEmpty(this.tokenize(o,e)),p=this.removeEmpty(this.tokenize(f,e));return this.diffWithOptionsObj(s,p,e,i)}diffWithOptionsObj(t,n,e,i){var o;let f=m=>{if(m=this.postProcess(m,e),i){setTimeout(function(){i(m)},0);return}else return m},s=n.length,p=t.length,u=1,c=s+p;e.maxEditLength!=null&&(c=Math.min(c,e.maxEditLength));let b=(o=e.timeout)!==null&&o!==void 0?o:1/0,P=Date.now()+b,h=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(h[0],n,t,0,e);if(h[0].oldPos+1>=p&&_+1>=s)return f(this.buildValues(h[0].lastComponent,n,t));let F=-1/0,S=1/0,j=()=>{for(let m=Math.max(F,-u);m<=Math.min(S,u);m+=2){let x,w=h[m-1],v=h[m+1];w&&(h[m-1]=void 0);let T=!1;if(v){let H=v.oldPos-m;T=v&&0<=H&&H<s}let R=w&&w.oldPos+1<p;if(!T&&!R){h[m]=void 0;continue}if(!R||T&&w.oldPos<v.oldPos?x=this.addToPath(v,!0,!1,0,e):x=this.addToPath(w,!1,!0,1,e),_=this.extractCommon(x,n,t,m,e),x.oldPos+1>=p&&_+1>=s)return f(this.buildValues(x.lastComponent,n,t))||!0;h[m]=x,x.oldPos+1>=p&&(S=Math.min(S,m-1)),_+1>=s&&(F=Math.max(F,m+1))}u++};if(i)(function m(){setTimeout(function(){if(u>c||Date.now()>P)return i(void 0);j()||m()},0)})();else for(;u<=c&&Date.now()<=P;){let m=j();if(m)return m}}addToPath(t,n,e,i,o){let f=t.lastComponent;return f&&!o.oneChangePerToken&&f.added===n&&f.removed===e?{oldPos:t.oldPos+i,lastComponent:{count:f.count+1,added:n,removed:e,previousComponent:f.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:e,previousComponent:f}}}extractCommon(t,n,e,i,o){let f=n.length,s=e.length,p=t.oldPos,u=p-i,c=0;for(;u+1<f&&p+1<s&&this.equals(e[p+1],n[u+1],o);)u++,p++,c++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!o.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=p,u}equals(t,n,e){return e.comparator?e.comparator(t,n):t===n||!!e.ignoreCase&&t.toLowerCase()===n.toLowerCase()}removeEmpty(t){let n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(t[e]);return n}castInput(t,n){return t}tokenize(t,n){return Array.from(t)}join(t){return t.join("")}postProcess(t,n){return t}get useLongestToken(){return!1}buildValues(t,n,e){let i=[],o;for(;t;)i.push(t),o=t.previousComponent,delete t.previousComponent,t=o;i.reverse();let f=i.length,s=0,p=0,u=0;for(;s<f;s++){let c=i[s];if(c.removed)c.value=this.join(e.slice(u,u+c.count)),u+=c.count;else{if(!c.added&&this.useLongestToken){let b=n.slice(p,p+c.count);b=b.map(function(P,h){let _=e[u+h];return _.length>P.length?_:P}),c.value=this.join(b)}else c.value=this.join(n.slice(p,p+c.count));p+=c.count,c.added||(u+=c.count)}}return i}};var z=class extends E{constructor(){super(...arguments),this.tokenize=be}equals(t,n,e){return e.ignoreWhitespace?((!e.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!e.newlineIsToken||!n.includes(`
`))&&(n=n.trim())):e.ignoreNewlineAtEof&&!e.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),n.endsWith(`
`)&&(n=n.slice(0,-1))),super.equals(t,n,e)}},xe=new z;function B(d,t,n){return xe.diff(d,t,n)}function be(d,t){t.stripTrailingCr&&(d=d.replace(/\r\n/g,`
`));let n=[],e=d.split(/(\n|\r\n)/);e[e.length-1]||e.pop();for(let i=0;i<e.length;i++){let o=e[i];i%2&&!t.newlineIsToken?n[n.length-1]+=o:n.push(o)}return n}var Me=(d,t,n)=>({"diff-added":d,"diff-removed":t,"diff-normal":n});function Pe(d,t){if(d&1){let n=I();l(0,"button",18),O("click",function(){k(n);let i=y();return D(i.copyFile(1))}),l(1,"mat-icon"),a(2,"content_copy"),r(),a(3," Copy File 1 "),r()}}function we(d,t){if(d&1){let n=I();l(0,"button",18),O("click",function(){k(n);let i=y();return D(i.copyFile(2))}),l(1,"mat-icon"),a(2,"content_copy"),r(),a(3," Copy File 2 "),r()}}function ve(d,t){d&1&&(l(0,"mat-card",22)(1,"mat-card-content")(2,"div",23)(3,"mat-icon"),a(4,"check_circle"),r(),l(5,"p"),a(6,"\u2713 Both files are identical!"),r()()()())}function Oe(d,t){if(d&1&&(l(0,"div",28)(1,"span",29),a(2),r()()),d&2){let n=t.$implicit;C("ngClass",V(2,Me,n.added,n.removed,n.normal)),g(2),L(n.value)}}function ye(d,t){if(d&1&&(l(0,"div",28)(1,"span",29),a(2),r()()),d&2){let n=t.$implicit;C("ngClass",V(2,Me,n.added,n.removed,n.normal)),g(2),L(n.value)}}function Ee(d,t){if(d&1&&(l(0,"div",24)(1,"div",25)(2,"h3"),a(3,"File 1 Content"),r(),l(4,"div",26),M(5,Oe,3,6,"div",27),r()(),l(6,"div",25)(7,"h3"),a(8,"File 2 Content"),r(),l(9,"div",26),M(10,ye,3,6,"div",27),r()()()),d&2){let n=y(2);g(5),C("ngForOf",n.fileOneDiffs),g(5),C("ngForOf",n.fileTwoDiffs)}}function Fe(d,t){if(d&1&&(l(0,"div",19),M(1,ve,7,0,"mat-card",20)(2,Ee,11,2,"div",21),r()),d&2){let n=y();g(),C("ngIf",n.isIdentical),g(),C("ngIf",!n.isIdentical)}}var tt=(()=>{let t=class t{constructor(e){this.snackBar=e,this.fileOneContent="",this.fileTwoContent="",this.fileOneDiffs=[],this.fileTwoDiffs=[],this.isCompared=!1,this.isIdentical=!1}compare(){if(!this.fileOneContent&&!this.fileTwoContent){this.showNotification("Please enter content in both files",!0);return}let e=B(this.fileOneContent,this.fileTwoContent,{ignoreWhitespace:!1});if(this.isIdentical=e.length===1&&!e[0].added&&!e[0].removed,this.isIdentical){this.showNotification("Both files are identical!",!1),this.isCompared=!0,this.fileOneDiffs=[],this.fileTwoDiffs=[];return}this.fileOneDiffs=this.processDiffsForFileOne(e),this.fileTwoDiffs=this.processDiffsForFileTwo(e),this.isCompared=!0,this.showNotification("Comparison complete. Differences highlighted.")}processDiffsForFileOne(e){let i=[];return e.forEach(o=>{o.added||i.push({value:o.value,removed:o.removed||!1,normal:!o.removed&&!o.added,added:!1})}),i}processDiffsForFileTwo(e){let i=[];return e.forEach(o=>{o.removed||i.push({value:o.value,added:o.added||!1,normal:!o.removed&&!o.added,removed:!1})}),i}clear(){this.fileOneContent="",this.fileTwoContent="",this.fileOneDiffs=[],this.fileTwoDiffs=[],this.isCompared=!1,this.isIdentical=!1}copyFile(e){let i=e===1?this.fileOneContent:this.fileTwoContent;navigator.clipboard.writeText(i).then(()=>{this.showNotification(`File ${e} copied to clipboard`)})}showNotification(e,i=!1){this.snackBar.open(e,"Close",{duration:3e3,panelClass:i?["error-snackbar"]:["success-snackbar"]})}};t.\u0275fac=function(i){return new(i||t)(U(Ce))},t.\u0275cmp=q({type:t,selectors:[["app-file-compare"]],standalone:!0,features:[G],decls:74,vars:5,consts:[[1,"tool-container"],[1,"gradient-toolbar"],[1,"content"],[1,"comparison-wrapper"],[1,"file-section"],["appearance","outline",1,"full-width"],["matInput","","rows","15","placeholder","Paste first file content here...",3,"ngModelChange","ngModel"],["matInput","","rows","15","placeholder","Paste second file content here...",3,"ngModelChange","ngModel"],[1,"button-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["class","result-section",4,"ngIf"],[1,"info-card"],[1,"info-list"],[1,"highlight-added"],[1,"highlight-removed"],[1,"highlight-normal"],["mat-raised-button","","color","accent",3,"click"],[1,"result-section"],["class","identical-message",4,"ngIf"],["class","comparison-display",4,"ngIf"],[1,"identical-message"],[1,"identical-alert"],[1,"comparison-display"],[1,"file-display"],[1,"diff-container"],["class","diff-line",3,"ngClass",4,"ngFor","ngForOf"],[1,"diff-line",3,"ngClass"],[1,"line-content"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"mat-toolbar",1),a(2,"File Comparison Tool"),r(),l(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-card")(7,"mat-card-header")(8,"mat-card-title"),a(9,"File 1 (Left)"),r()(),l(10,"mat-card-content")(11,"mat-form-field",5)(12,"mat-label"),a(13,"File 1 Content"),r(),l(14,"textarea",6),A("ngModelChange",function(s){return N(o.fileOneContent,s)||(o.fileOneContent=s),s}),r()()()()(),l(15,"div",4)(16,"mat-card")(17,"mat-card-header")(18,"mat-card-title"),a(19,"File 2 (Right)"),r()(),l(20,"mat-card-content")(21,"mat-form-field",5)(22,"mat-label"),a(23,"File 2 Content"),r(),l(24,"textarea",7),A("ngModelChange",function(s){return N(o.fileTwoContent,s)||(o.fileTwoContent=s),s}),r()()()()()(),l(25,"div",8)(26,"button",9),O("click",function(){return o.compare()}),l(27,"mat-icon"),a(28,"compare"),r(),a(29," Compare Files "),r(),M(30,Pe,4,0,"button",10)(31,we,4,0,"button",10),l(32,"button",11),O("click",function(){return o.clear()}),l(33,"mat-icon"),a(34,"clear"),r(),a(35," Clear "),r()(),M(36,Fe,3,2,"div",12),l(37,"mat-card",13)(38,"mat-card-header")(39,"mat-card-title"),a(40,"How to Use"),r()(),l(41,"mat-card-content")(42,"ul",14)(43,"li")(44,"strong"),a(45,"Step 1:"),r(),a(46," Paste content of File 1 in the left textarea"),r(),l(47,"li")(48,"strong"),a(49,"Step 2:"),r(),a(50," Paste content of File 2 in the right textarea"),r(),l(51,"li")(52,"strong"),a(53,"Step 3:"),r(),a(54,' Click "Compare Files" button'),r(),l(55,"li")(56,"strong"),a(57,"Result:"),r(),a(58," Differences will be highlighted: "),l(59,"ul")(60,"li")(61,"span",15),a(62,"Green"),r(),a(63," = Added lines (in File 2)"),r(),l(64,"li")(65,"span",16),a(66,"Red"),r(),a(67," = Removed lines (not in File 2)"),r(),l(68,"li")(69,"span",17),a(70,"Normal"),r(),a(71," = Unchanged lines"),r()()(),l(72,"li"),a(73,"If files are identical, an alert message will inform you"),r()()()()()()),i&2&&(g(14),W("ngModel",o.fileOneContent),g(10),W("ngModel",o.fileTwoContent),g(6),C("ngIf",o.fileOneContent),g(),C("ngIf",o.fileTwoContent),g(5),C("ngIf",o.isCompared))},dependencies:[K,J,X,Y,se,ae,le,de,me,ce,ue,pe,fe,he,ge,ee,$,Z,Q,re,te,ie,oe,ne,_e],styles:[".tool-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,#1a1a2e,#16213e)}.content[_ngcontent-%COMP%]{padding:2rem;flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:1.5rem}.full-width[_ngcontent-%COMP%]{width:100%}.comparison-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}.file-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.file-section[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:#ffffff0d!important;border:1px solid rgba(255,255,255,.15)!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;color:#fff}.file-section[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden}.file-section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;height:100%}.button-group[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1rem}.result-section[_ngcontent-%COMP%]{margin-top:2rem;border-left:4px solid #4caf50;margin-bottom:1.5rem;border-radius:8px}.identical-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;color:#2e7d32;font-weight:500}.identical-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:32px;width:32px;height:32px}.identical-alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.comparison-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-top:1.5rem}.file-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.file-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:16px;font-weight:600;border-bottom:2px solid #667eea;padding-bottom:.5rem}.diff-container[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.15);border-radius:8px;max-height:500px;overflow-y:auto;background-color:#0003}.diff-line[_ngcontent-%COMP%]{padding:.5rem;font-family:Courier New,monospace;font-size:13px;border-bottom:1px solid rgba(255,255,255,.06);white-space:pre-wrap;word-break:break-word;line-height:1.5}.diff-line[_ngcontent-%COMP%]:last-child{border-bottom:none}.diff-line.diff-normal[_ngcontent-%COMP%]{background-color:#fff;color:#333}.diff-line.diff-added[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#1b5e20}.diff-line.diff-removed[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#b71c1c}.line-content[_ngcontent-%COMP%]{display:block}.info-card[_ngcontent-%COMP%]{margin-top:2rem}.info-list[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem;color:#555}.info-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.8rem;line-height:1.6}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:0}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.4rem}.highlight-added[_ngcontent-%COMP%]{color:#1b5e20;font-weight:500;background-color:#c8e6c9;padding:.2rem .4rem;border-radius:2px}.highlight-removed[_ngcontent-%COMP%]{color:#b71c1c;font-weight:500;background-color:#ffcdd2;padding:.2rem .4rem;border-radius:2px}.highlight-normal[_ngcontent-%COMP%]{color:#555;font-weight:500}.gradient-toolbar[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff7a18,#ffd166);color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}@media (max-width: 1200px){.comparison-wrapper[_ngcontent-%COMP%], .comparison-display[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let d=t;return d})();export{tt as FileCompareComponent};
