import{b as $,c as tt}from"./chunk-JDCC6IOV.js";import{e as P,f as j}from"./chunk-73HNPCUD.js";import{a as W,b as F,c as R,f as B,h as H}from"./chunk-JX33CUBA.js";import{a as K,c as X,f as Y,g as Z}from"./chunk-I7QKGUOV.js";import"./chunk-KOH3MBIX.js";import{b as D,c as U,g as z,j as A,s as Q}from"./chunk-KU7RIE3I.js";import"./chunk-AESYL7IM.js";import{a as V,d as N,e as L}from"./chunk-4JKAHWEK.js";import"./chunk-5BDAPURH.js";import{ea as q,fa as G}from"./chunk-TBDOALTL.js";import{$a as d,Fb as o,Gb as n,Lb as T,Ob as p,Qb as u,Sc as I,Zb as r,_b as E,_c as J,cc as C,dc as h,ec as M,gc as k,ma as O,tb as b,ua as _,va as g,vb as w}from"./chunk-J5RJCK57.js";function et(l,c){if(l&1&&(o(0,"div",15),r(1),n()),l&2){let m=u();d(),E(m.error)}}function nt(l,c){if(l&1){let m=T();o(0,"mat-card",16)(1,"mat-card-header")(2,"mat-card-title"),r(3,"JSON Output"),n()(),o(4,"mat-card-content")(5,"mat-form-field",5)(6,"mat-label"),r(7,"JSON Result"),n(),o(8,"textarea",17),M("ngModelChange",function(t){_(m);let e=u();return h(e.jsonOutput,t)||(e.jsonOutput=t),g(t)}),n(),o(9,"button",18),p("click",function(){_(m);let t=u();return g(t.copyJson())}),o(10,"mat-icon"),r(11,"content_copy"),n()()(),o(12,"button",19),p("click",function(){_(m);let t=u();return g(t.downloadJson())}),o(13,"mat-icon"),r(14,"download"),n(),r(15," Download JSON "),n()()()}if(l&2){let m=u();d(8),C("ngModel",m.jsonOutput)}}var xt=(()=>{let c=class c{constructor(){this.csvInput="",this.jsonOutput="",this.error="",this.hasHeaders=!0}convert(){this.error="";try{let i=this.csvInput.trim().split(`
`);if(i.length===0){this.error="No data to convert";return}let t=this.hasHeaders?this.parseRow(i[0]):null,s=(this.hasHeaders?i.slice(1):i).map((a,f)=>{let v=this.parseRow(a);t||(t=Array.from({length:v.length},(S,x)=>`Column${x+1}`));let y={};return t.forEach((S,x)=>{y[S]=v[x]||""}),y});this.jsonOutput=JSON.stringify(s,null,2)}catch(i){this.error=`Conversion error: ${i.message}`}}parseRow(i){let t=[],e="",s=!1;for(let a=0;a<i.length;a++){let f=i[a];f==='"'?s=!s:f===","&&!s?(t.push(e.trim()),e=""):e+=f}return t.push(e.trim()),t}downloadJson(){if(!this.jsonOutput)return;let i=new Blob([this.jsonOutput],{type:"application/json"}),t=URL.createObjectURL(i),e=document.createElement("a");e.href=t,e.download="data.json",e.click(),URL.revokeObjectURL(t)}copyJson(){navigator.clipboard.writeText(this.jsonOutput)}clear(){this.csvInput="",this.jsonOutput="",this.error=""}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=O({type:c,selectors:[["app-csv-to-json"]],standalone:!0,features:[k],decls:32,vars:4,consts:[[1,"container"],["color","primary"],["mat-icon-button","","disabled",""],[1,"content"],[1,"input-card"],[1,"full-width"],["matInput","","rows","8",3,"ngModelChange","ngModel"],[1,"options"],["type","checkbox","id","headers",3,"ngModelChange","ngModel"],["for","headers"],[1,"button-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["class","output-card",4,"ngIf"],[1,"error"],[1,"output-card"],["matInput","","readonly","","rows","10",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","","matTooltip","Copy to clipboard",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),r(4,"swap_horiz"),n()(),o(5,"span"),r(6,"CSV to JSON Converter"),n()(),o(7,"div",3)(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),r(11,"CSV Data"),n()(),o(12,"mat-card-content")(13,"mat-form-field",5)(14,"mat-label"),r(15,"CSV Input"),n(),o(16,"textarea",6),M("ngModelChange",function(a){return h(e.csvInput,a)||(e.csvInput=a),a}),n()(),o(17,"div",7)(18,"input",8),M("ngModelChange",function(a){return h(e.hasHeaders,a)||(e.hasHeaders=a),a}),n(),o(19,"label",9),r(20,"First row contains headers"),n()(),o(21,"div",10)(22,"button",11),p("click",function(){return e.convert()}),o(23,"mat-icon"),r(24,"swap_horiz"),n(),r(25," Convert to JSON "),n(),o(26,"button",12),p("click",function(){return e.clear()}),o(27,"mat-icon"),r(28,"delete"),n(),r(29," Clear "),n()(),b(30,et,2,1,"div",13),n()(),b(31,nt,16,1,"mat-card",14),n()()),t&2&&(d(16),C("ngModel",e.csvInput),d(2),C("ngModel",e.hasHeaders),d(12),w("ngIf",e.error),d(),w("ngIf",e.jsonOutput))},dependencies:[J,I,Q,U,D,z,A,G,q,j,P,L,V,N,Z,Y,K,X,tt,$,H,W,R,B,F],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}mat-toolbar[_ngcontent-%COMP%]{margin-bottom:1rem}.content[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow-y:auto}.input-card[_ngcontent-%COMP%], .output-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;max-width:800px}.full-width[_ngcontent-%COMP%]{width:100%}.options[_ngcontent-%COMP%]{margin:1rem 0;display:flex;align-items:center;gap:.5rem}.options[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.button-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem;flex-wrap:wrap}.error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;padding:.5rem;background-color:#ffebee;border-radius:4px}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:.9rem}"]});let l=c;return l})();export{xt as CsvToJsonComponent};
