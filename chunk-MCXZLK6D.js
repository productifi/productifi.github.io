import{e as k,f as S}from"./chunk-73HNPCUD.js";import{a as B,b as F}from"./chunk-OKHWQRQO.js";import{a as U,b as L,d as j}from"./chunk-NXVXFKC4.js";import"./chunk-ZHDJFP5C.js";import"./chunk-QBLI2EOF.js";import"./chunk-UMZHJLK3.js";import{a as z,h as D}from"./chunk-JX33CUBA.js";import"./chunk-KU7RIE3I.js";import"./chunk-AESYL7IM.js";import{a as T,c as E,d as I,e as V}from"./chunk-4JKAHWEK.js";import"./chunk-CERUL3HZ.js";import"./chunk-5BDAPURH.js";import{fa as A}from"./chunk-TBDOALTL.js";import{$a as d,$b as w,Fb as i,Gb as o,Hb as M,Lb as _,Ob as m,Qb as p,Rc as v,Sc as R,Zb as r,_b as x,_c as y,f as h,gc as O,ia as b,ma as C,tb as u,ua as g,va as f,vb as l,xc as P}from"./chunk-J5RJCK57.js";function $(a,s){a&1&&(i(0,"div",11)(1,"mat-icon",12),r(2,"warning"),o(),i(3,"p"),r(4,"Your browser does not support audio recording. Please use Chrome, Firefox, Safari, or Edge."),o()())}function q(a,s){if(a&1&&(i(0,"div",13)(1,"div",14),M(2,"div",15),i(3,"span"),r(4,"Recording in Progress"),o(),i(5,"span",16),r(6),o()()()),a&2){let c=p();d(6),x(c.currentRecordingTime)}}function N(a,s){if(a&1){let c=_();i(0,"div",17)(1,"button",18),m("click",function(){g(c);let n=p();return f(n.downloadAllRecordings())}),i(2,"mat-icon"),r(3,"file_download"),o(),r(4," Download All "),o(),i(5,"button",19),m("click",function(){g(c);let n=p();return f(n.clearAll())}),i(6,"mat-icon"),r(7,"delete_outline"),o(),r(8," Clear All "),o()()}}function Y(a,s){a&1&&(i(0,"div",20)(1,"mat-icon"),r(2,"unarchive"),o(),i(3,"p"),r(4,"No recordings yet. Start recording to create your first one!"),o()())}function G(a,s){if(a&1){let c=_();i(0,"mat-list-item",24)(1,"div",25)(2,"div",26),r(3),o(),i(4,"div",27)(5,"mat-icon"),r(6,"schedule"),o(),i(7,"span"),r(8),o()()(),i(9,"div",28)(10,"button",29),m("click",function(){let n=g(c).$implicit,t=p(2);return f(t.playRecording(n))}),i(11,"mat-icon"),r(12,"play_circle"),o()(),i(13,"button",30),m("click",function(){let n=g(c).$implicit,t=p(2);return f(t.downloadRecording(n))}),i(14,"mat-icon"),r(15,"download"),o()(),i(16,"button",31),m("click",function(){let n=g(c).$implicit,t=p(2);return f(t.deleteRecording(n.id))}),i(17,"mat-icon"),r(18,"delete"),o()()()()}if(a&2){let c=s.$implicit;d(3),x(c.name),d(5),x(c.duration)}}function H(a,s){if(a&1&&(i(0,"div",21)(1,"h3",22),r(2),o(),i(3,"mat-list"),u(4,G,19,2,"mat-list-item",23),o()()),a&2){let c=p();d(2),w("Your Recordings (",c.recordings.length,")"),d(2),l("ngForOf",c.recordings)}}var pt=(()=>{let s=class s{constructor(){this.isRecording=!1,this.recordings=[],this.currentRecordingTime="00:00",this.browserSupported=!0,this.mediaRecorder=null,this.audioChunks=[],this.recordingTimer=null,this.recordingSeconds=0,this.stream=null,this.cdr=b(P)}ngOnInit(){this.checkBrowserSupport()}ngOnDestroy(){this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.recordingTimer&&clearInterval(this.recordingTimer)}checkBrowserSupport(){let e=navigator.mediaDevices?.getUserMedia,n=typeof MediaRecorder<"u";this.browserSupported=!!e&&n}startRecording(){return h(this,null,function*(){try{this.stream=yield navigator.mediaDevices.getUserMedia({audio:!0}),this.mediaRecorder=new MediaRecorder(this.stream),this.audioChunks=[],this.recordingSeconds=0,this.currentRecordingTime="00:00",this.isRecording=!0,this.mediaRecorder.ondataavailable=e=>{this.audioChunks.push(e.data)},this.mediaRecorder.onstop=()=>{this.handleRecordingStop()},this.mediaRecorder.start(),this.startTimer()}catch(e){console.error("Error accessing microphone:",e),alert("Unable to access microphone. Please check your permissions.")}})}stopRecording(){this.mediaRecorder&&this.isRecording&&(clearInterval(this.recordingTimer),this.isRecording=!1,this.stream&&this.stream.getTracks().forEach(e=>e.stop()),this.mediaRecorder.stop())}startTimer(){this.recordingTimer=setInterval(()=>{this.recordingSeconds++,this.currentRecordingTime=this.formatTime(this.recordingSeconds)},1e3)}formatTime(e){let n=Math.floor(e/60),t=e%60;return`${String(n).padStart(2,"0")}:${String(t).padStart(2,"0")}`}handleRecordingStop(){let e=new Blob(this.audioChunks,{type:"audio/webm"}),n=URL.createObjectURL(e),t={id:Date.now(),name:`Recording ${new Date().toLocaleTimeString()}`,duration:this.currentRecordingTime,url:n,blob:e,timestamp:new Date};this.recordings.unshift(t),this.audioChunks=[],this.cdr.detectChanges()}playRecording(e){new Audio(e.url).play()}downloadRecording(e){let n=e.url,t=document.createElement("a");t.href=n,t.download=`${e.name.replace(/\s+/g,"_")}.webm`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}deleteRecording(e){let n=this.recordings.findIndex(t=>t.id===e);if(n>-1){let t=this.recordings[n];URL.revokeObjectURL(t.url),this.recordings.splice(n,1)}}downloadAllRecordings(){if(this.recordings.length===0){alert("No recordings to download");return}this.recordings.forEach((e,n)=>{setTimeout(()=>{this.downloadRecording(e)},n*200)})}clearAll(){this.recordings.length!==0&&confirm("Are you sure you want to delete all recordings?")&&(this.recordings.forEach(e=>{URL.revokeObjectURL(e.url)}),this.recordings=[])}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=C({type:s,selectors:[["app-voice-recorder"]],standalone:!0,features:[O],decls:16,vars:9,consts:[[1,"recorder-card"],[1,"recorder-body"],["class","browser-support",4,"ngIf"],[1,"recording-controls"],["class","recording-status",4,"ngIf"],[1,"mic-section"],["mat-fab","",1,"mic-button",3,"click","color","disabled"],[1,"mic-label"],["class","quick-actions",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","recordings-list",4,"ngIf"],[1,"browser-support"],[1,"warning-icon"],[1,"recording-status"],[1,"recording-indicator"],[1,"recording-dot"],[1,"timer"],[1,"quick-actions"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"empty-state"],[1,"recordings-list"],[1,"recordings-title"],["class","recording-item",4,"ngFor","ngForOf"],[1,"recording-item"],[1,"recording-info"],[1,"recording-name"],[1,"recording-duration"],[1,"recording-actions"],["mat-icon-button","","matTooltip","Play Recording",1,"play-btn",3,"click"],["mat-icon-button","","matTooltip","Download Recording",1,"download-btn",3,"click"],["mat-icon-button","","matTooltip","Delete Recording",1,"delete-btn",3,"click"]],template:function(n,t){n&1&&(i(0,"mat-card",0)(1,"h1"),r(2,"Voice Recorder"),o(),i(3,"div",1),u(4,$,5,0,"div",2),i(5,"div",3),u(6,q,7,1,"div",4),i(7,"div",5)(8,"button",6),m("click",function(){return t.isRecording?t.stopRecording():t.startRecording()}),i(9,"mat-icon"),r(10),o()(),i(11,"span",7),r(12),o()(),u(13,N,9,0,"div",8),o(),u(14,Y,5,0,"div",9)(15,H,5,2,"div",10),o()()),n&2&&(d(4),l("ngIf",!t.browserSupported),d(2),l("ngIf",t.isRecording),d(2),l("color",t.isRecording?"warn":"primary")("disabled",!t.browserSupported),d(2),x(t.isRecording?"stop":"mic"),d(2),x(t.isRecording?"Stop Recording":"Start Recording"),d(),l("ngIf",t.recordings.length>0),d(),l("ngIf",t.recordings.length===0&&!t.isRecording),d(),l("ngIf",t.recordings.length>0))},dependencies:[y,v,R,D,z,V,T,I,E,S,k,A,j,U,L,F,B],styles:[".recorder-card[_ngcontent-%COMP%]{max-width:900px;margin:24px auto;padding:16px}.recorder-body[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:24px}.gradient-toolbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea33,#764ba233)!important;-webkit-backdrop-filter:blur(15px)!important;backdrop-filter:blur(15px)!important;border-bottom:1px solid rgba(255,255,255,.15)!important;color:#fff!important;box-shadow:0 8px 32px #1f26875e!important;border-radius:12px!important;margin:-16px -16px 0!important;width:calc(100% + 32px)!important;padding:16px 24px!important;display:flex!important;align-items:center!important;font-size:20px!important;font-weight:500!important}.browser-support[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f4433626;border:1px solid rgba(244,67,54,.3);border-radius:8px;color:#f44336}.warning-icon[_ngcontent-%COMP%]{font-size:20px!important;width:20px!important;height:20px!important;flex-shrink:0}.browser-support[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px}.recording-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;padding:24px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px}.recording-status[_ngcontent-%COMP%]{width:100%}.recording-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:12px 20px;background:#f4433633;border:1px solid rgba(244,67,54,.4);border-radius:8px;color:#f44336;font-weight:600;animation:_ngcontent-%COMP%_pulse 1s infinite}.recording-dot[_ngcontent-%COMP%]{width:12px;height:12px;background:#f44336;border-radius:50%;animation:_ngcontent-%COMP%_blink .6s infinite}.timer[_ngcontent-%COMP%]{margin-left:auto;font-family:Courier New,monospace;font-size:16px;font-weight:700;color:#f44336}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 #f4433666}50%{box-shadow:0 0 0 6px #f4433600}}.mic-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.mic-button[_ngcontent-%COMP%]{width:80px!important;height:80px!important;font-size:32px!important;transition:all .3s ease!important}.mic-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)!important;box-shadow:0 8px 24px #667eea66!important}.mic-button[_ngcontent-%COMP%]:disabled{opacity:.5!important;cursor:not-allowed!important}.mic-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#fffc;text-align:center}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;width:100%}.quick-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:140px;transition:all .3s ease}.quick-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #667eea4d}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:40px;text-align:center;color:#fff9}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px!important;width:48px!important;height:48px!important;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.recordings-list[_ngcontent-%COMP%]{width:100%}.recordings-title[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#ffffffe6}.recording-item[_ngcontent-%COMP%]{background:#ffffff0d!important;border:1px solid rgba(255,255,255,.1)!important;border-radius:8px!important;margin-bottom:12px!important;padding:16px!important;display:flex!important;justify-content:space-between!important;align-items:center!important;transition:all .3s ease!important;gap:12px!important;height:auto!important}.recording-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{height:auto!important;padding:0!important}.recording-item[_ngcontent-%COMP%]:hover{background:#667eea1a;border-color:#667eea4d;box-shadow:0 4px 16px #667eea33}.recording-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1}.recording-name[_ngcontent-%COMP%]{font-weight:500;color:#ffffffe6;font-size:14px}.recording-duration[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;color:#fff9}.recording-duration[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px!important;width:14px!important;height:14px!important}.recording-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:16px;align-items:center}.recording-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;min-width:44px!important;min-height:44px!important;width:44px!important;height:44px!important;padding:0!important;color:#ffffffb3!important;transition:all .3s ease!important;opacity:1!important;visibility:visible!important}.recording-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .recording-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .recording-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1!important}.recording-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:block!important;font-size:24px!important;width:24px!important;height:24px!important;line-height:24px!important;color:inherit!important}.play-btn[_ngcontent-%COMP%]{color:#4caf50!important}.play-btn[_ngcontent-%COMP%]:hover{background:#4caf5033!important}.download-btn[_ngcontent-%COMP%]{color:#2196f3!important}.download-btn[_ngcontent-%COMP%]:hover{background:#2196f333!important}.delete-btn[_ngcontent-%COMP%]{color:#f44336!important}.delete-btn[_ngcontent-%COMP%]:hover{background:#f4433633!important}@media (max-width: 600px){.recorder-body[_ngcontent-%COMP%]{gap:16px}.recording-controls[_ngcontent-%COMP%]{padding:16px}.mic-button[_ngcontent-%COMP%]{width:70px!important;height:70px!important;font-size:28px!important}.quick-actions[_ngcontent-%COMP%]{flex-direction:column;width:100%}.quick-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.recording-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.recording-info[_ngcontent-%COMP%]{width:100%}.recording-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-start}.recording-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40px!important;width:40px!important;height:40px!important}}"]});let a=s;return a})();export{pt as VoiceRecorderComponent};
