import{b as K,c as Q}from"./chunk-JDCC6IOV.js";import{e as E,f as I}from"./chunk-73HNPCUD.js";import{a as V,b as P,c as N,f as F,h as L}from"./chunk-JX33CUBA.js";import{a as z,c as H,f as q,g as G}from"./chunk-I7QKGUOV.js";import"./chunk-KOH3MBIX.js";import{c as A,g as B,j as W,s as D}from"./chunk-KU7RIE3I.js";import"./chunk-AESYL7IM.js";import{a as k,d as J,e as j}from"./chunk-4JKAHWEK.js";import"./chunk-5BDAPURH.js";import{ea as R,fa as U}from"./chunk-TBDOALTL.js";import{$a as s,Fb as o,Gb as e,Lb as y,Ob as p,Qb as d,Sc as O,Zb as i,_b as w,_c as T,cc as v,dc as x,ec as h,gc as S,ma as b,tb as g,ua as f,va as C,vb as M}from"./chunk-J5RJCK57.js";function X(c,m){if(c&1&&(o(0,"div",12),i(1),e()),c&2){let l=d();s(),w(l.error)}}function Y(c,m){if(c&1){let l=y();o(0,"mat-card",13)(1,"mat-card-header")(2,"mat-card-title"),i(3,"CSV Output"),e()(),o(4,"mat-card-content")(5,"mat-form-field",5)(6,"mat-label"),i(7,"CSV Result"),e(),o(8,"textarea",14),h("ngModelChange",function(n){f(l);let r=d();return x(r.csvOutput,n)||(r.csvOutput=n),C(n)}),e(),o(9,"button",15),p("click",function(){f(l);let n=d();return C(n.copyCsv())}),o(10,"mat-icon"),i(11,"content_copy"),e()()(),o(12,"button",16),p("click",function(){f(l);let n=d();return C(n.downloadCsv())}),o(13,"mat-icon"),i(14,"download"),e(),i(15," Download CSV "),e()()()}if(c&2){let l=d();s(8),v("ngModel",l.csvOutput)}}var Ct=(()=>{let m=class m{constructor(){this.jsonInput="",this.csvOutput="",this.error=""}convert(){this.error="";try{let t=JSON.parse(this.jsonInput);if(!Array.isArray(t)){this.error="JSON must be an array of objects";return}if(t.length===0){this.error="Array is empty";return}let n=new Set;t.forEach(a=>{typeof a=="object"&&a!==null&&Object.keys(a).forEach(_=>n.add(_))});let r=Array.from(n),u=[r.map(a=>this.escapeCsv(a)).join(","),...t.map(a=>r.map(_=>this.escapeCsv(String(a[_]||""))).join(","))].join(`
`);this.csvOutput=u}catch(t){this.error=`Conversion error: ${t.message}`}}escapeCsv(t){return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t}downloadCsv(){if(!this.csvOutput)return;let t=new Blob([this.csvOutput],{type:"text/csv"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="data.csv",r.click(),URL.revokeObjectURL(n)}copyCsv(){navigator.clipboard.writeText(this.csvOutput)}clear(){this.jsonInput="",this.csvOutput="",this.error=""}};m.\u0275fac=function(n){return new(n||m)},m.\u0275cmp=b({type:m,selectors:[["app-json-to-csv"]],standalone:!0,features:[S],decls:28,vars:3,consts:[[1,"container"],["color","primary"],["mat-icon-button","","disabled",""],[1,"content"],[1,"input-card"],[1,"full-width"],["matInput","","rows","8","placeholder",'[{"name":"John","age":30},{"name":"Jane","age":25}]',3,"ngModelChange","ngModel"],[1,"button-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["class","output-card",4,"ngIf"],[1,"error"],[1,"output-card"],["matInput","","readonly","","rows","10",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","","matTooltip","Copy to clipboard",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),i(4,"swap_horiz"),e()(),o(5,"span"),i(6,"JSON to CSV Converter"),e()(),o(7,"div",3)(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),i(11,"JSON Data"),e()(),o(12,"mat-card-content")(13,"mat-form-field",5)(14,"mat-label"),i(15,"JSON Input (Array of Objects)"),e(),o(16,"textarea",6),h("ngModelChange",function(a){return x(r.jsonInput,a)||(r.jsonInput=a),a}),e()(),o(17,"div",7)(18,"button",8),p("click",function(){return r.convert()}),o(19,"mat-icon"),i(20,"swap_horiz"),e(),i(21," Convert to CSV "),e(),o(22,"button",9),p("click",function(){return r.clear()}),o(23,"mat-icon"),i(24,"delete"),e(),i(25," Clear "),e()(),g(26,X,2,1,"div",10),e()(),g(27,Y,16,1,"mat-card",11),e()()),n&2&&(s(16),v("ngModel",r.jsonInput),s(10),M("ngIf",r.error),s(),M("ngIf",r.csvOutput))},dependencies:[T,O,D,A,B,W,U,R,I,E,j,k,J,G,q,z,H,Q,K,L,V,N,F,P],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}mat-toolbar[_ngcontent-%COMP%]{margin-bottom:1rem}.content[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow-y:auto}.input-card[_ngcontent-%COMP%], .output-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;max-width:800px}.full-width[_ngcontent-%COMP%]{width:100%}.button-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem;flex-wrap:wrap}.error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;padding:.5rem;background-color:#ffebee;border-radius:4px}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:.9rem}"]});let c=m;return c})();export{Ct as JsonToCsvComponent};
