"use strict";(self.webpackChunkproductify=self.webpackChunkproductify||[]).push([[455],{7455:(b,_,o)=>{o.r(_),o.d(_,{AddressComponent:()=>v});var l=o(6814),d=o(6223),g=o(4170),Z=o(2032),h=o(8525),m=o(2296),s=o(5195),C=o(617),f=o(3176),u=o(6311),c=o(7700),t=o(9212);let A=(()=>{class i{constructor(e,a){this.dialogRef=e,this.data=a}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(a){return new(a||i)(t.Y36(c.so),t.Y36(c.WI))}}static{this.\u0275cmp=t.Xpm({type:i,selectors:[["app-confirm-dialog"]],standalone:!0,features:[t.jDz],decls:10,vars:2,consts:[[1,"confirm-dialog"],[1,"actions"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"div",1)(6,"button",2),t.NdJ("click",function(){return n.onCancel()}),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",3),t.NdJ("click",function(){return n.onConfirm()}),t._uU(9,"Delete"),t.qZA()()()),2&a&&(t.xp6(2),t.Oqu((null==n.data?null:n.data.title)||"Confirm"),t.xp6(2),t.Oqu((null==n.data?null:n.data.message)||"Are you sure?"))},dependencies:[l.ez,c.Is,m.ot,m.lW],styles:[".confirm-dialog[_ngcontent-%COMP%]{padding:16px;min-width:260px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:16px}"]})}}return i})();var T=o(3680);function x(i,p){1&i&&(t.TgZ(0,"span"),t._uU(1,"(Default)"),t.qZA())}function y(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"mat-grid-tile")(1,"mat-card",26)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.ALo(5,"titlecase"),t.YNc(6,x,2,0,"span",27),t.qZA(),t.TgZ(7,"mat-card-subtitle",28),t._uU(8),t.qZA(),t.TgZ(9,"div",29)(10,"button",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit,N=t.oxw(2);return t.KtG(N.selected=r)}),t.TgZ(11,"mat-icon"),t._uU(12,"more_vert"),t.qZA()()(),t.TgZ(13,"mat-menu",null,31)(15,"button",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onSetDefault(n.selected))}),t.TgZ(16,"mat-icon"),t._uU(17,"star"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"Set as Default"),t.qZA()(),t.TgZ(20,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onEdit(n.selected))}),t.TgZ(21,"mat-icon"),t._uU(22,"edit"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Edit"),t.qZA()(),t.TgZ(25,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onDelete(n.selected))}),t.TgZ(26,"mat-icon"),t._uU(27,"delete"),t.qZA(),t.TgZ(28,"span"),t._uU(29,"Delete"),t.qZA()()()(),t.TgZ(30,"mat-card-content",34)(31,"div",35),t._uU(32),t.qZA(),t.TgZ(33,"div",35),t._uU(34),t.qZA(),t.TgZ(35,"div",35),t._uU(36),t.qZA(),t.TgZ(37,"div",35),t._uU(38),t.qZA(),t.TgZ(39,"div",35),t._uU(40),t.qZA(),t.TgZ(41,"div",35),t._uU(42),t.qZA()()()()}if(2&i){const e=p.$implicit,a=t.MAs(14),n=t.oxw(2);t.xp6(4),t.hij("",t.lcZ(5,12,e.type)," "),t.xp6(2),t.Q6J("ngIf",e.isDefault),t.xp6(2),t.Oqu(e.fullName),t.xp6(2),t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("disabled",!n.selected||n.selected.isDefault),t.xp6(17),t.Oqu(e.house),t.xp6(2),t.Oqu(e.street),t.xp6(2),t.AsE("",e.city,", ",e.state,""),t.xp6(2),t.hij("Pincode : ",e.pinCode,""),t.xp6(2),t.hij("Contact : ",e.contactNumber,""),t.xp6(2),t.hij("Landmark: ",e.landmark,"")}}function q(i,p){if(1&i&&(t.TgZ(0,"mat-grid-list",24),t.YNc(1,y,43,14,"mat-grid-tile",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.addresses)}}function U(i,p){1&i&&(t.TgZ(0,"div",36),t._uU(1,"No addresses found"),t.qZA())}let v=(()=>{class i{constructor(e,a){this.fb=e,this.dialog=a,this.addressForm=this.fb.group({fullName:["",d.kI.required],contactNumber:["",d.kI.required],house:["",d.kI.required],street:["",d.kI.required],pinCode:["",d.kI.required],landmark:[""],country:["India"],state:[""],city:[""],type:["home",d.kI.required]}),this.addresses=[],this.selected=null,this.editingId=null,this.load()}save(){if(this.addressForm.invalid)return;const e=this.addressForm.value;if(this.editingId)this.addresses=this.addresses.map(a=>a.id===this.editingId?{...a,...e}:a),this.editingId=null;else{const a=Math.random().toString(36).slice(2,9),n={...e,id:a,isDefault:0===this.addresses.length};this.addresses=[n,...this.addresses]}this.persist(),this.addressForm.reset({country:"India",type:"home"})}persist(){try{localStorage.setItem("aapla_addresses",JSON.stringify(this.addresses))}catch{}}load(){try{const e=localStorage.getItem("aapla_addresses");e&&(this.addresses=JSON.parse(e))}catch{}}onEdit(e){if(e){this.editingId=e.id,this.addressForm.patchValue({fullName:e.fullName,contactNumber:e.contactNumber,house:e.house,street:e.street,pinCode:e.pinCode,landmark:e.landmark,country:e.country||"India",state:e.state,city:e.city,type:e.type||"home"});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}}onDelete(e){e&&this.dialog.open(A,{data:{title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone."}}).afterClosed().subscribe(n=>{n&&(this.addresses=this.addresses.filter(r=>r.id!==e.id),this.persist())})}onSetDefault(e){e&&(this.addresses=this.addresses.map(a=>({...a,isDefault:a.id===e.id})),this.persist())}static{this.\u0275fac=function(a){return new(a||i)(t.Y36(d.qu),t.Y36(c.uw))}}static{this.\u0275cmp=t.Xpm({type:i,selectors:[["app-address"]],standalone:!0,features:[t.jDz],decls:62,vars:7,consts:[[1,"address-page"],[1,"add-card"],[1,"address-form",3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline"],["matInput","","formControlName","fullName","placeholder","Full Name"],["matInput","","formControlName","contactNumber","placeholder","Contact Number"],["appearance","outline",1,"full"],["matInput","","formControlName","house","placeholder","House No., Building"],["matInput","","formControlName","street","placeholder","Street, Area"],["matInput","","formControlName","pinCode","placeholder","Pin Code"],["matInput","","formControlName","landmark","placeholder","Landmark"],["matInput","","formControlName","country","placeholder","Country"],["matInput","","formControlName","state","placeholder","State"],["matInput","","formControlName","city","placeholder","City"],["formControlName","type"],["value","home"],["value","office"],["value","other"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"list"],["cols","3","rowHeight","1:0.5","gutterSize","16",4,"ngIf"],["class","empty",4,"ngIf"],["cols","3","rowHeight","1:0.5","gutterSize","16"],[4,"ngFor","ngForOf"],[1,"addr-card"],[4,"ngIf"],[1,"card-subtitle"],[1,"card-actions"],["mat-icon-button","","aria-label","options",3,"matMenuTriggerFor","click"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],[1,"card-content"],[1,"addr"],[1,"empty"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA(),t.TgZ(6,"form",2),t.NdJ("ngSubmit",function(){return n.save()}),t.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Full Name"),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"mat-form-field",4)(13,"mat-label"),t._uU(14,"Contact Number"),t.qZA(),t._UZ(15,"input",6),t.qZA()(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"House No./Flat No./Building/Residential address"),t.qZA(),t._UZ(19,"input",8),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Street / Area"),t.qZA(),t._UZ(23,"input",9),t.qZA(),t.TgZ(24,"div",3)(25,"mat-form-field",4)(26,"mat-label"),t._uU(27,"Pin Code"),t.qZA(),t._UZ(28,"input",10),t.qZA(),t.TgZ(29,"mat-form-field",4)(30,"mat-label"),t._uU(31,"Landmark"),t.qZA(),t._UZ(32,"input",11),t.qZA()(),t.TgZ(33,"div",3)(34,"mat-form-field",4)(35,"mat-label"),t._uU(36,"Country"),t.qZA(),t._UZ(37,"input",12),t.qZA(),t.TgZ(38,"mat-form-field",4)(39,"mat-label"),t._uU(40,"State"),t.qZA(),t._UZ(41,"input",13),t.qZA(),t.TgZ(42,"mat-form-field",4)(43,"mat-label"),t._uU(44,"City"),t.qZA(),t._UZ(45,"input",14),t.qZA()(),t.TgZ(46,"mat-form-field",7)(47,"mat-label"),t._uU(48,"Address Type"),t.qZA(),t.TgZ(49,"mat-select",15)(50,"mat-option",16),t._uU(51,"Home"),t.qZA(),t.TgZ(52,"mat-option",17),t._uU(53,"Office"),t.qZA(),t.TgZ(54,"mat-option",18),t._uU(55,"Other"),t.qZA()()(),t.TgZ(56,"div",19)(57,"button",20),t._uU(58),t.qZA()()()(),t.TgZ(59,"div",21),t.YNc(60,q,2,1,"mat-grid-list",22)(61,U,2,0,"div",23),t.qZA()()),2&a&&(t.xp6(3),t.Oqu(n.editingId?"Edit Address":"Address"),t.xp6(2),t.Oqu(n.editingId?"Update existing address":"Add new address"),t.xp6(1),t.Q6J("formGroup",n.addressForm),t.xp6(51),t.Q6J("disabled",n.addressForm.invalid),t.xp6(1),t.Oqu(n.editingId?"Update Address":"Add Address"),t.xp6(2),t.Q6J("ngIf",n.addresses.length),t.xp6(1),t.Q6J("ngIf",!n.addresses.length))},dependencies:[l.ez,l.sg,l.O5,l.rS,d.UX,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,g.lN,g.KE,g.hX,Z.c,Z.Nt,h.LD,h.gD,T.ey,m.ot,m.lW,m.RK,s.QW,s.a8,s.dn,s.dk,s.$j,s.n5,C.Ps,C.Hw,f.N6,f.Il,f.DX,u.Tx,u.VK,u.OP,u.p6,c.Is],styles:[".address-page[_ngcontent-%COMP%]{max-width:1200px;margin:16px auto;padding:8px}.add-card[_ngcontent-%COMP%]{padding:16px}.address-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;gap:12px}.row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.full[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.list[_ngcontent-%COMP%]{margin-top:16px}.addr-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.addr-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex:1 1 auto}.addr-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.empty[_ngcontent-%COMP%]{padding:24px;color:#0009}@media (max-width: 960px){mat-grid-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 600px){mat-grid-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.row[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return i})()}}]);