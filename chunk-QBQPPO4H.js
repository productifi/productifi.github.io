import{b as U,c as H,d as z}from"./chunk-HMM5WEMA.js";import{b as Y,c as Z}from"./chunk-JDCC6IOV.js";import{e as A,f as v}from"./chunk-73HNPCUD.js";import{b as $}from"./chunk-HXXQPCWH.js";import"./chunk-ZHDJFP5C.js";import"./chunk-QBLI2EOF.js";import{a as W,b as B,c as P,f as D,h as V}from"./chunk-JX33CUBA.js";import{a as q,c as J,f as Q,g as X}from"./chunk-I7QKGUOV.js";import"./chunk-KOH3MBIX.js";import{c as L,g as F,j as G,s as N}from"./chunk-KU7RIE3I.js";import"./chunk-AESYL7IM.js";import{a as k,d as O,e as K}from"./chunk-4JKAHWEK.js";import"./chunk-CERUL3HZ.js";import"./chunk-5BDAPURH.js";import{ea as R,fa as j}from"./chunk-TBDOALTL.js";import{$a as d,Fb as n,Gb as r,Lb as x,Ob as _,Qb as y,Sc as T,Zb as a,_b as w,_c as I,cc as s,dc as u,ec as f,f as M,gc as E,ma as S,tb as b,ua as g,va as C,vb as h}from"./chunk-J5RJCK57.js";function et(l,m){if(l&1&&(n(0,"div",14),a(1),r()),l&2){let p=y();d(),w(p.error)}}function nt(l,m){if(l&1){let p=x();n(0,"mat-form-field",6)(1,"mat-label"),a(2,"Encrypted Text (Base64)"),r(),n(3,"textarea",15),f("ngModelChange",function(e){g(p);let t=y();return u(t.encryptedOutput,e)||(t.encryptedOutput=e),C(e)}),r(),n(4,"button",16),_("click",function(){g(p);let e=y();return C(e.copyEncrypted())}),n(5,"mat-icon"),a(6,"content_copy"),r()()()}if(l&2){let p=y();d(3),s("ngModel",p.encryptedOutput)}}function rt(l,m){if(l&1&&(n(0,"div",14),a(1),r()),l&2){let p=y();d(),w(p.error)}}function it(l,m){if(l&1){let p=x();n(0,"mat-form-field",6)(1,"mat-label"),a(2,"Decrypted Text"),r(),n(3,"textarea",15),f("ngModelChange",function(e){g(p);let t=y();return u(t.decryptedOutput,e)||(t.decryptedOutput=e),C(e)}),r(),n(4,"button",16),_("click",function(){g(p);let e=y();return C(e.copyDecrypted())}),n(5,"mat-icon"),a(6,"content_copy"),r()()()}if(l&2){let p=y();d(3),s("ngModel",p.decryptedOutput)}}var Et=(()=>{let m=class m{constructor(){this.encryptInput="",this.encryptKey="",this.encryptedOutput="",this.decryptInput="",this.decryptKey="",this.decryptedOutput="",this.error=""}encrypt(){return M(this,null,function*(){this.error="";try{if(!this.encryptInput||!this.encryptKey){this.error="Please provide both text and key";return}let i=new TextEncoder,e=yield this.deriveKey(this.encryptKey),t=crypto.getRandomValues(new Uint8Array(16)),c=yield crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,i.encode(this.encryptInput)),o=new Uint8Array(t.length+c.byteLength);o.set(t),o.set(new Uint8Array(c),t.length),this.encryptedOutput=this.arrayBufferToBase64(o)}catch(i){this.error=`Encryption error: ${i.message}`}})}decrypt(){return M(this,null,function*(){this.error="";try{if(!this.decryptInput||!this.decryptKey){this.error="Please provide both encrypted text and key";return}let i=yield this.deriveKey(this.decryptKey),e=this.base64ToArrayBuffer(this.decryptInput);if(e.byteLength<16)throw new Error("Invalid encrypted data");let t=e.slice(0,16),c=e.slice(16),o=yield crypto.subtle.decrypt({name:"AES-GCM",iv:t},i,c),tt=new TextDecoder;this.decryptedOutput=tt.decode(o)}catch(i){this.error=`Decryption error: ${i.message}`}})}deriveKey(i){return M(this,null,function*(){let t=new TextEncoder().encode(i),c=yield crypto.subtle.digest("SHA-256",t);return crypto.subtle.importKey("raw",c,{name:"AES-GCM"},!1,["encrypt","decrypt"])})}arrayBufferToBase64(i){let e="";for(let t=0;t<i.byteLength;t++)e+=String.fromCharCode(i[t]);return btoa(e)}base64ToArrayBuffer(i){let e=atob(i),t=new Uint8Array(e.length);for(let c=0;c<e.length;c++)t[c]=e.charCodeAt(c);return t.buffer}copyEncrypted(){navigator.clipboard.writeText(this.encryptedOutput)}copyDecrypted(){navigator.clipboard.writeText(this.decryptedOutput)}generateKey(){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*",e="";for(let t=0;t<32;t++)e+=i.charAt(Math.floor(Math.random()*i.length));this.encryptKey=e}};m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=S({type:m,selectors:[["app-aes-crypto"]],standalone:!0,features:[E],decls:54,vars:8,consts:[[1,"container"],["color","primary"],["mat-icon-button","","disabled",""],[1,"content"],["label","Encrypt"],[1,"tab-content"],["appearance","outline",1,"full-width"],["matInput","","rows","4",3,"ngModelChange","ngModel"],["matInput","","type","password",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","","matTooltip","Generate random key",3,"click"],["mat-raised-button","","color","primary",3,"click"],["class","error",4,"ngIf"],["appearance","outline","class","full-width",4,"ngIf"],["label","Decrypt"],[1,"error"],["matInput","","readonly","","rows","4",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","","matTooltip","Copy to clipboard",3,"click"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),a(4,"lock"),r()(),n(5,"span"),a(6,"AES Encrypt/Decrypt"),r()(),n(7,"div",3)(8,"mat-tab-group")(9,"mat-tab",4)(10,"div",5)(11,"mat-card")(12,"mat-card-header")(13,"mat-card-title"),a(14,"Encrypt Text"),r()(),n(15,"mat-card-content")(16,"mat-form-field",6)(17,"mat-label"),a(18,"Text to Encrypt"),r(),n(19,"textarea",7),f("ngModelChange",function(o){return u(t.encryptInput,o)||(t.encryptInput=o),o}),r()(),n(20,"mat-form-field",6)(21,"mat-label"),a(22,"Encryption Key"),r(),n(23,"input",8),f("ngModelChange",function(o){return u(t.encryptKey,o)||(t.encryptKey=o),o}),r(),n(24,"button",9),_("click",function(){return t.generateKey()}),n(25,"mat-icon"),a(26,"refresh"),r()()(),n(27,"button",10),_("click",function(){return t.encrypt()}),n(28,"mat-icon"),a(29,"lock"),r(),a(30," Encrypt "),r(),b(31,et,2,1,"div",11)(32,nt,7,1,"mat-form-field",12),r()()()(),n(33,"mat-tab",13)(34,"div",5)(35,"mat-card")(36,"mat-card-header")(37,"mat-card-title"),a(38,"Decrypt Text"),r()(),n(39,"mat-card-content")(40,"mat-form-field",6)(41,"mat-label"),a(42,"Encrypted Text (Base64)"),r(),n(43,"textarea",7),f("ngModelChange",function(o){return u(t.decryptInput,o)||(t.decryptInput=o),o}),r()(),n(44,"mat-form-field",6)(45,"mat-label"),a(46,"Decryption Key"),r(),n(47,"input",8),f("ngModelChange",function(o){return u(t.decryptKey,o)||(t.decryptKey=o),o}),r()(),n(48,"button",10),_("click",function(){return t.decrypt()}),n(49,"mat-icon"),a(50,"lock_open"),r(),a(51," Decrypt "),r(),b(52,rt,2,1,"div",11)(53,it,7,1,"mat-form-field",12),r()()()()()()()),e&2&&(d(19),s("ngModel",t.encryptInput),d(4),s("ngModel",t.encryptKey),d(8),h("ngIf",t.error),d(),h("ngIf",t.encryptedOutput),d(11),s("ngModel",t.decryptInput),d(4),s("ngModel",t.decryptKey),d(5),h("ngIf",t.error),d(),h("ngIf",t.decryptedOutput))},dependencies:[I,T,N,L,F,G,j,R,v,A,K,k,O,X,Q,q,J,Z,Y,V,W,P,D,B,z,U,H,$],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}mat-toolbar[_ngcontent-%COMP%]{margin-bottom:1rem}.content[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow-y:auto}.tab-content[_ngcontent-%COMP%]{padding:1rem;max-width:700px}.full-width[_ngcontent-%COMP%]{width:100%;margin:1rem 0}mat-card[_ngcontent-%COMP%]{margin-bottom:1rem}button[_ngcontent-%COMP%]{margin-top:1rem;margin-right:.5rem}.error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;padding:.5rem;background-color:#ffebee;border-radius:4px}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:.9rem}"]});let l=m;return l})();export{Et as AesCryptoComponent};
